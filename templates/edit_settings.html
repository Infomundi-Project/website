{% extends "base.html" %}

{% block title %}Account Settings{% endblock %}

{% block styles %}
<style>
    .main-container {
        padding: 20px;
        border-radius: 10px;
    }

    .profile-container {
        padding: 20px;
        border-radius: 10px;
        margin: 20px;
    }
</style>
{% endblock %}

{% block edit_profile_content %}
<h3>General</h3>
<hr>
<form method="post" action="{{ url_for('views.edit_user_settings', username=user.username) }}">
   <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
   <div class="mb-3">
      <div class="input-group mb-3">
         <span class="input-group-text"><i class="fa-solid fa-envelope"></i></span>
         <div class="form-floating">
            <input name="email" type="email" class="form-control" id="floatingInputEmail" placeholder="Email" value="{{ session['email_address'] }}">
            <label for="floatingInputEmail">Email</label>
         </div>
      </div>
   </div>
   <div class="mb-3">
      <div class="form-floating">
         <input name="current_password" type="password" class="form-control" id="floatInputCurrentPassword" placeholder="Your current password" required>
         <label for="floatInputCurrentPassword">Current Password</label>
      </div>
   </div>

   <h4 class="mt-5">Change Password</h4>
   <hr>
   <div class="mb-3">
      <div class="row g-2">
         <div class="col-md">
            <div class="form-floating">
               <input name="new_password" type="password" class="form-control" id="floatInputPassword" placeholder="Fill this if you want to change your password">
               <label for="floatInputPassword">New Password</label>
            </div>
         </div>
         <div class="col-md">
            <div class="form-floating">
               <input name="confirm_password" type="password" class="form-control" id="floatInputPasswordConfirm" placeholder="Confirm your new password">
               <label for="floatInputPasswordConfirm">Confirm New Password</label>
            </div>
         </div>
      </div>
   </div>
   <div class="cf-turnstile" data-sitekey="0x4AAAAAAAN8p0y-GxgH2k2X" data-theme="{{ request.cookies.get('theme', 'light') }}"></div>
   
   <div class="d-flex justify-content-between mt-4">
        <button type="submit" class="btn btn-primary"><i class="fa-solid fa-floppy-disk me-1"></i>Save</button>
        <span class="invisible">.</span>
        <a type="button" role="button" class="btn btn-outline-danger"><i class="fa-solid fa-trash-can me-1"></i>Delete Account</a>
    </div>
</form>
{% endblock %}

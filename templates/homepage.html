{% extends "base.html" %} {% block title %}Home{% endblock %}
{% block styles %}
<style type="text/css">
  #chartdiv {
  width: 100%;
  height: 50vh;
  max-width: 100%;
  }
  .fa-solid {
  color: #ffffff;
  }
</style>
{% endblock %}
{% block content %}
<div class="row mt-4" style="height: 30vh;">
  <div class="col mb-5">
    <div class="card bg-dark text-light border-light">
      <h5 class="card-header"><i class="fa-solid fa-chart-simple"></i> Statistics <span class="badge rounded-pill text-bg-success">New!</span></h5>
      <div class="card-body">
        <small class="card-text"><i class="fa-solid fa-clock"></i> Local Time: {{ statistics['current_time'] }}</small><br>
        <small class="card-text"><i class="fa-solid fa-globe"></i> Supported Countries: {{ statistics['total_countries_supported'] }}</small><br>
        <small class="card-text"><i class="fa-solid fa-newspaper"></i> Total Stories: {{ statistics['total_news'] }}</small><br>
        <small class="card-text"><i class="fa-solid fa-rss"></i> Sources: {{ statistics['total_feeds'] }}</small><br>
        <small class="card-text"><i class="fa-solid fa-comments"></i> Comments: {{ statistics['total_comments'] }}</small><br>
        <small class="card-text"><i class="fa-solid fa-arrows-rotate"></i> Last Updated: {{ statistics['last_updated'] }}</small><br>
      </div>
    </div>
  </div>
  <div class="col-sm-6 text-center">
    <img 
      src="{{ url_for('static', filename='img/infomundi-dark-cropped.webp') }}"
      style="margin-bottom: 20px; max-height: 100%; max-width: 100%"
      alt="A resilient figure cradling Earth in powerful hands, accompanied by the white 'InfoMundi' text on the rightâ€”a testament to strength and global impact."
      />
    <center>
      <label for="query">Search the country you want to view news</label>
      <div class="input-group mb-2 justify-content-center">
        <span class="input-group-text bg-dark" id="search-icon"><i class="fa-solid fa-magnifying-glass"></i></span>
        <input 
          class="form-control bg-dark text-light autocomplete" 
          aria-describedby="search-icon"
          style="max-width: 440px;"
          type="search" 
          aria-label="Search Field" 
          id="query" 
          name="query"
          />
      </div>
    </center>
    <center>
      <p class="fs-4 mt-2">or</p>
      <p class="fs-2 mt-4 mb-3">choose it</p>
    </center>
    <div id="chartdiv"></div>
  </div>
  <div class="col">
  </div>
</div>
{% endblock %}
{% block scripts %}
<script defer
  src="https://cdn.amcharts.com/lib/5/index.js"
  ></script>
<script defer
  src="https://cdn.amcharts.com/lib/5/map.js"
  ></script>
<script defer
  src="https://cdn.amcharts.com/lib/5/geodata/worldLow.js"
  ></script>
<script defer
  src="https://cdn.amcharts.com/lib/5/themes/Animated.js"
  ></script>
<script defer
  src="{{ url_for('static', filename='js/chart.js') }}"
  ></script>
<script 
  src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js" 
  integrity="sha256-eTyxS0rkjpLEo16uXTS0uVCS4815lc40K2iVpWDvdSY=" 
  crossorigin="anonymous"
  ></script>
<script defer
  src="{{ url_for('static', filename='js/autocomplete.js') }}"
  ></script>
{% endblock %}